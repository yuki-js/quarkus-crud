# Production Configuration
# For development mode, see application-dev.properties which enables Dev Services
# and automatic PostgreSQL container management

# Database Configuration
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres
# JDBC URL should be provided via environment variable in production/CI:
#   QUARKUS_DATASOURCE_JDBC_URL=jdbc:postgresql://localhost:5432/quarkus_crud
# For local development with Dev UI, use ./gradlew quarkusDev which uses application-dev.properties
# For tests, Dev Services will automatically provide the URL
# quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/quarkus_crud

# Flyway Configuration
quarkus.flyway.migrate-at-start=true
quarkus.flyway.locations=classpath:db/migration

# MyBatis Configuration
mybatis.environment.id=quarkus
mybatis.type-handlers-package=app.aoki.quarkuscrud.support

# OpenAPI Configuration
quarkus.smallrye-openapi.path=/openapi
# Use only YAML format for OpenAPI spec (no JSON generation)
quarkus.smallrye-openapi.info-title=Quarkus CRUD API
quarkus.smallrye-openapi.info-version=0.0.1

# Swagger UI Configuration
quarkus.swagger-ui.path=/swagger-ui
quarkus.swagger-ui.always-include=true

# SmallRye Health Configuration
# Detailed health checks available at /q/health (liveness, readiness, startup)
# Legacy /healthz endpoint preserved for backward compatibility
quarkus.smallrye-health.root-path=/q/health

# JWT Configuration for Guest Authentication
mp.jwt.verify.publickey.location=classpath:keys/publicKey.pem
mp.jwt.verify.issuer=https://quarkus-crud.ouchiserver.aokiapp.com
mp.jwt.verify.publickey.algorithm=ES256
smallrye.jwt.sign.key.location=classpath:keys/privateKey.pem
smallrye.jwt.new-token.issuer=https://quarkus-crud.ouchiserver.aokiapp.com
smallrye.jwt.new-token.lifespan=86400
