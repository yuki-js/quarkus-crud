# Development Mode Configuration
# This file is automatically loaded when running in dev mode (./gradlew quarkusDev)

# Dev Services Configuration
# Automatically starts a PostgreSQL container for development
# No need to manually start Docker containers!
quarkus.devservices.enabled=true
quarkus.datasource.devservices.enabled=true
# Use the same PostgreSQL version as production/CI for consistency
quarkus.datasource.devservices.image-name=postgres:15-alpine
# Container will be shared between multiple dev mode sessions
quarkus.datasource.devservices.reuse=true

# Enable live reload for automatic code changes
quarkus.live-reload.instrumentation=true

# HTTP Configuration for Dev Mode
quarkus.http.host=0.0.0.0
quarkus.http.port=8080
# CORS settings for Dev UI
quarkus.http.cors.origins=http://localhost:8080,http://127.0.0.1:8080

# Logging Configuration for Development
quarkus.log.level=INFO
quarkus.log.category."app.aoki.quarkuscrud".level=DEBUG
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# Database Configuration
# When Dev Services is enabled, these are used as defaults but can be overridden
# by the automatically started container
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres

# Flyway Configuration
quarkus.flyway.migrate-at-start=true
quarkus.flyway.locations=classpath:db/migration
quarkus.flyway.baseline-on-migrate=true

# MyBatis Configuration
mybatis.environment.id=quarkus

# OpenAPI Configuration
quarkus.smallrye-openapi.path=/openapi
quarkus.smallrye-openapi.info-title=Quarkus CRUD API (Dev Mode)
quarkus.smallrye-openapi.info-version=0.0.1-SNAPSHOT

# Swagger UI Configuration
quarkus.swagger-ui.path=/swagger-ui
quarkus.swagger-ui.always-include=true
# Enable Swagger UI to use the Dev UI theme
quarkus.swagger-ui.theme=feeling-blue

# SmallRye Health Configuration
quarkus.smallrye-health.root-path=/q/health

# JWT Configuration for Guest Authentication
mp.jwt.verify.publickey.location=/keys/publicKey.pem
mp.jwt.verify.issuer=https://quarkus-crud.example.com
mp.jwt.verify.publickey.algorithm=ES256
smallrye.jwt.sign.key.location=/keys/privateKey.pem
smallrye.jwt.new-token.issuer=https://quarkus-crud.example.com
smallrye.jwt.new-token.lifespan=86400

# Info Configuration - Shows build info in Dev UI
quarkus.info.build.time=true
quarkus.info.git.mode=full
