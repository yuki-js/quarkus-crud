# Development Mode Configuration
# This file is automatically loaded when running in dev mode (./gradlew quarkusDev)

# Dev Services Configuration
# Automatically starts a PostgreSQL container for development
# No need to manually start Docker containers!
quarkus.devservices.enabled=true
quarkus.datasource.devservices.enabled=true
# Use the same PostgreSQL version as production/CI for consistency
quarkus.datasource.devservices.image-name=postgres:15-alpine
# Container will be shared between multiple dev mode sessions
quarkus.datasource.devservices.reuse=true

# Continuous Testing Configuration
# Enable continuous testing in dev mode - tests run automatically within the dev process
quarkus.test.continuous-testing=enabled
# Run tests when dev mode starts
quarkus.test.display-test-output=true
# Show test output in console
quarkus.test.basic-console-output=true

# Enable live reload for automatic code changes
quarkus.live-reload.instrumentation=true

# HTTP Configuration for Dev Mode
quarkus.http.host=0.0.0.0
quarkus.http.port=8080
# CORS settings for Dev UI - use regex pattern to allow all origins with credentials
quarkus.http.cors.origins=/.*/
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.access-control-allow-credentials=true
quarkus.http.cors.access-control-max-age=24H

# Logging Configuration for Development
quarkus.log.level=INFO
quarkus.log.category."app.aoki.quarkuscrud".level=DEBUG
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# Database Configuration
# When Dev Services is enabled, these are used as defaults but can be overridden
# by the automatically started container
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres

# Flyway Configuration
quarkus.flyway.migrate-at-start=true
quarkus.flyway.locations=classpath:db/migration
quarkus.flyway.baseline-on-migrate=true

# MyBatis Configuration
mybatis.environment.id=quarkus

# OpenAPI Configuration
quarkus.smallrye-openapi.path=/openapi
quarkus.smallrye-openapi.info-title=Quarkus CRUD API (Dev Mode)
quarkus.smallrye-openapi.info-version=0.0.1-SNAPSHOT

# Swagger UI Configuration
quarkus.swagger-ui.path=/swagger-ui
quarkus.swagger-ui.always-include=true
# Enable Swagger UI to use the Dev UI theme
quarkus.swagger-ui.theme=feeling-blue

# SmallRye Health Configuration
quarkus.smallrye-health.root-path=/q/health

# Info Configuration - Shows build info in Dev UI
quarkus.info.build.time=true
quarkus.info.git.mode=full
